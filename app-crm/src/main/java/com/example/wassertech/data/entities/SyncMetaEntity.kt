package ru.wassertech.data.entities

/**
 * Интерфейс для сущностей, которые синхронизируются с сервером через /sync/push и /sync/pull.
 * 
 * Все синхронизируемые сущности должны иметь эти поля:
 * - Временные метки для отслеживания изменений
 * - Поля архивирования
 * - Поля логического удаления
 * - Локальные поля для оффлайн-очереди (не отправляются на сервер)
 */
interface SyncMetaEntity {
    /** Момент создания записи (в миллисекундах с эпохи Unix) */
    var createdAtEpoch: Long
    
    /** Момент последнего изменения записи (в миллисекундах с эпохи Unix) */
    var updatedAtEpoch: Long
    
    /** Признак архивирования записи */
    var isArchived: Boolean
    
    /** Момент архивирования (null если не архивирована) */
    var archivedAtEpoch: Long?
    
    /** Момент логического удаления (null если не удалена) */
    var deletedAtEpoch: Long?
    
    /** Флаг локальных изменений (true = запись изменена локально и должна попасть в /sync/push) */
    var dirtyFlag: Boolean
    
    /** Статус синхронизации (0 = SYNCED, 1 = QUEUED, 2 = CONFLICT) */
    var syncStatus: Int
}


