12:30 ===== 10/11/2025 ================================================================
1) При генерации Pdf-отчёта во время определения помещается ли компонент на страницу, надо определить понятие нижнего поля. Нижний край компонента не должен заходить за это поле. То есть сейчас он может даже касаться границы листа PDF и все будет ОК, а надо, чтобы если он зашёл в зону нижнего поля, то уже переносился бы на следующую страницу.
   По умолчанию высота нижнего поля должна быть установлена 15рх.
   Сделай для этого специальную переменную и пропиши комментарий, чтобы я сам потом мог менять.

2) По анимации: увидел, что tech увеличивается в размерах вместе со свайпом графитового поля. Зачем? Размер tech должен быть статичен как и wasser. Возможно поэтому я и не вижу tech_black в начале анимации, т.к. его размер просто может быть равен нулю.

3) Высота боттомБара всё же достаточна 90px. Только у иконок навигации выравнивание по вертикали должно быть по центру боттомбара.

4) На странице "Отчеты ТО" отступ от апбар до контента надо уменьшить по аналогии с другими страницами.

5) На странице "Редактирование ТО":
   5.1.) нужно полностью убрать подзаголовок "проведение обслуживания" под апбаром. Остальной контент подтянуть к аппбару, чтобы не было большого зазора.
   5.2.) Мы заглавные компоненты выделили цветом. Но только карточку, а шапку такого компонента, на которой название и надпись "развернуть" не выделили. Нужно шапку тоже выделить.
   5.3.) Не смотря на то, что карточка заглавного компонента выделена цветом, сами поля в которые можно вводить данные, должны оставаться белыми.
   5.4.) Около каждого компонента есть текстовая кнопка "Развернуть". Её нужно заменить на соответствующую иконку "Развернуть", как на других страницах.
   5.5.) На плашке заголовка "ТО установки..." нужно убрать иконку шестеренки в квадрате - она не нужна.
   5.6.) Сам заголовок "ТО установки" заменить на "Обслуживание установки"

6) На странице "Детали ТО" и при генерации HTML для отчётов о ТО последовательность компонентов установки не соответствует orderIndex , созданному на экране "Установка". Надо, чтобы все компоненты и на странице "Детали ТО" и при генерации HTML для отчёта шли в том порядке, который мы задаём на экране "Установка".
   6.1.) Сам заголовок "Детали ТО" надо переименовать в "Детали обслуживания".

7) На странице "Объект" (SiteDetailScreen.kt):
   7.1.) У нас на каждой карточке установки использована иконка, показывающая, что можно провалиться в неё. Нужно эту иконку поменять на ту, которая используется на всех других страницах.
   7.2.) Плашка заголовка у объекта намного толще, чем на всех остальных экранах. Сделай её такой же толщины как и плашка на экране "Клиент".
   7.3.) Иконка редактирования имени видна всегда, а должна быть видна только, когда включён режим редактирования в апбаре (переключатель глаз/карандаш должен иметь такую функцию).

10) Внешний вид переключателя глаз/карандаш нужно изменить везде, где он есть. Чёрную иконку карандаша меняем на зеленый кружок с галочкой  (Check Circle из material 3) - это будет подтверждение сохранения. Иконку глаза меняем на иконку "Edit Square" из material 3.

11) На странице "Клиент" на каждой установке для перехода в неё использована иконка "Стрелка вправо". Она отличается от той, что использована для перехода на экране "Клиенты". Нужно везде использовать иконку как на экране "Клиенты".

12) На экране "Клиенты":
    12.1.) У нас есть вложенный FAB. При нажатии на красный ФАБ вылезают два чёрных. Надо скорректировать их позицию. По горизонталь позиции красной кнопки и черных должны совпадать. А по вертикали между ними должен быть интервал хотя бы 10px.
    12.2.) Сам основной красный фаб нужно позиционировать чуть ниже. Так как это сделано на экране "Клиент"

13) Такое же выравнивание FABов нужно сделать и на экране ClientDetailScreen.kt

14) На экране "Установка" кнопку FAB также нужно спозиционировать также как и на экране "Клиент".

15) На экране "Шаблоны компонентов" кнопку FAB также нужно спозиционировать также как и на экране "Клиент".

16) На экране "Редактирование шаблона":
    16.1.) Около каждого переключателя "Заглавный компонент" должна быть маленькая иконка info из material 3. При нажатии на неё должна появляться небольшая подсказка поверх  контента. У подсказки должен быть слегка прозрачный жёлтый фон с прозрачностью 80%-90% (имею ввиду малопрозрачный) иконкой lightbulb из material 3 и крестиком в углу для закрытия подсказки. Текст подсказки: "Заглавное поле в готовом отчёте будет занимать всю ширину листа, а не 1/3 как обычные компоненты. Если заглавный элемент окажется в самом начале или конце компонента, то под него будет выделен отдельный визуальный раздел."
    16.2.) Около каждого переключателя "Характеристика" должна быть маленькая иконка info из material 3. При нажатии на неё должна появляться небольшая подсказка поверх  контента. У подсказки должен быть слегка прозрачный жёлтый фон с прозрачностью 80%-90% (имею ввиду малопрозрачный) иконкой lightbulb из material 3 и крестиком в углу для закрытия подсказки. Текст подсказки: "Характеристика - постоянное свойство компонента. Оно будет сохраняться и выводиться в некоторых документах, но его значение не меняется при проведении обслуживания."
    16.3.) Надпись "Заглавный компонент" должна быть переименована в "Заглавный элемент".
    16.4.) Карточки полей нужно сделать компактнее:
    16.4.1.) Переключатель "Характеристика" переносим в заголовок карточки с сравнением по правому краю.
    16.4.2.) Сегментированные кнопки немного уменьшаем по ширине и справа от них вставляем корзину, которая сейчас находится ниже.

13:15 ===== 10/11/2025 ================================================================
Исправления недоработок при выполнении прошлых задач:

1) Анимация tech - проверить
2) BottomBar высота ок - отсутуп иконок не по центру - нужно уменьшить отсуп снизу и, соответственно, увеличить сверху.
3) Страница "Редактирование ТО" - оформление заглавных элементов не получилось, пробуем следующее:
    3.1) Шапка заглавного элемента (та, что видна даже в свёрнутом виде, там где имя компонента написано) - фон светло-серый (#F5F5F5)
    3.2) Карточка заглавного элемента - фон белый (#FFFFFF)

4) Переключатель режима редактирования в топБар должен менять иконку при включении режима редактирования на иконку "Сохранить" (Check Circle из material 3), а при выключении режима возвращать прежнюю иконку.
5) FAB на экране "Клиенты" - исправить (перенести в самый низ экрана, как на ClientDetailScreen)
6) FAB на экране "Установка" - исправить (перенести в самый низ экрана, как на ClientDetailScreen)
7) FAB на экране "Шаблоны компонентов" - исправить (перенести в самый низ экрана, как на ClientDetailScreen)
8) Попап-ФАБ на экране Клиенты: Два дополнительных ФАБа выпрыгивают слишком высоко от осного ФАБа - исправить, + они перекрывают друг-друга, а не должны - исправить
9) Тултип около переключателя "Характеристика" выпрыгивает слишком низко. Он доложен появляться на уровне иконки "Info"
10) Тултипы должны быть верхним слоем, а не раздвигать контент вниз

14:00 ===== 10/11/2025 ================================================================

1) На всех экранах внизу присутствует какое-то белое невидимое поле, которое обрезает контент при скроле и сдвигает наш FAB вверх.
   Это касается экранов "Клиенты", "Отчёты ТО", "Установка", "Шаблоны компонентов". Но такой полосы нет на экранах: "Редактирование щаблона", "Клиент" и "Объект". Что это за полоса? Надо её убрать.
   -- СДЕЛАНО -- 
2) BottomBar - еще уменьшить отступ иконок сниху и увеличить сверху - уже почти отлично.
3) Попап-ФАБ на экране Клиенты: Два дополнительных ФАБа выпрыгивают слишком высоко от осного ФАБа - исправить, + они перекрывают друг-друга, а не должны - исправить
4) Иконка редактирования в топБаре не переключается на иконку сохранения - СДЕЛАНО

14:00 ===== 10/11/2025 ================================================================
1) собственная иконка для PDF-отчёта - сделать

19:30 ===== 10/11/2025 ================================================================
1) На многих экранах у нас есть серый подзаголовок, где показывается имя клиента, название установки, название объекта и тд. Его стиль надо занести в Тему, если это еще не сделано.
1.1) В теме должен быть указан шрифт для заголовка, шрифт для подзаголовка, цвет фона, скругления и тд. 
1.2) скругление двух верхних углов у этих подзаголовков надо убрать. Скругление нижних оставить как есть.

2) в разворачивающихся меню у нас одинаковые красивые иконки, указывающие на возможность развернуть меню. Нужно внести эту иконку в тему, чтобы она была единая всегда и везде.

3) Для карточек, в которую можно провалиться у нас тоже единая иконка на всех экранах. Нужно внести её в тему, чтобы она тоже была одинаковая даже во вновь создаваемых карточках.

4) На экране создания шаблона у нас иконка сохранения с бирюзовым оттенком. Надо сделать просто зеленый цвет или сослаться на такой цвет из темы.

5) На экране "История ТО":
5.1.) Измени заголовок на "История обслуживания"
5.2.) Добавь небольшой отступ от подзаголовка до контента.
5.3.) внизу этого экрана у нас какое-то белое поле, обрезающее весь контент и сдвигающее fab чуть выше. Убери это поле.
5.4.) Мы можем провалиться в карточки истории ТО, но на карточке нет соответствующей иконки. Она у нас уже в теме (ты добавил это на шаге №3). Используй её.

6) Когда мы заходим в детали обслуживания (проваливаясь в карточку истории ТО), то прокручивая контент до конца, мы можем заметить, что он немного обрезается ботомбаром. Надо после последней карточки добавлять небольшое пустое пространство и надпись "Конец записей..."

7) На экране "Отчёты ТО":
7.1.) Заменить заголовок на "Отчёты обслуживания"
7.2.) иконку PDF на карточках замени на новую кастумную, которая лежит в res (она у нас уже используется на FAB).
7.3.) Иконку для HTML файлов надо вынести в тему, позже будем использовать кастомную svg, которую также положим в res. Пока я её не сделал - используй мою кастомную иконку PDF, но перекрашенную в зелёный (чуть позже я сам смогу найти и заменить).

19:55 ===== 10/11/2025 ================================================================
-- Просто --
1) Добавь комментарии к Theme.kt, где их нет. Чтобы я смог разобраться какой элемент за что отвечает. Не нужно каждую строку, но хотя бы по блокам.
2) Кастомная иконка "html", которую нужно использовать в карточках html-файлов на странице с PDF-отчётами готова. Она лежит в res/drawable/html.xml. Ранее я просил использовать иконку PDF, перекрасив её в зелёный цвет (на время дебага). Естественно, новая иконка нужна в чёрном цвете.
3) На странице "Детали обслуживания" мы недавно добавили надпись в конце "Конец записей..." Эту надпись надо поставить посередине , а отступ от последней карточки уменьшить.
4) Такую же надпись надо вставить на экране "История обслуживания" в самом конце, после последней карточки.

20:00 ===== 10/11/2025 ================================================================
1) В разворачивающихся списках мы недавно меняли цвет фона на светло-светло красный. Вроде, прописывали его в тему. Заменим его на светло-серый, а цвет самой карточки в разворачивающемся списке - на просто белый. Если цвет этой карточки, находящейся в списке еще не занесён в Тему, то надо это сделать. Добавь его тогда рядом с "val ExpandableMenuBackground = Color(0xFFFFEBEE)" и допиши к вставляемому цвету комментарий, чтобы понимать к чему он относится.

20:15 ===== 10/11/2025 ================================================================
-- Сложно --
1) Вернемся к рендеру PDF.
Мы уже пробовали реализовать это правило, но результата я не увидел.
Если в итоговом PDF отчёте у нас получается больше одной страницы, то нужно:
1) На всех страницах кроме последней проверить сколько свободного пространства остаётся от конца вставленного битмапа до конца листа pdf.
2) Если принять, что высота листа PDF у нас 1123 css-px, а на каком-то листе у нас осталось свободного пространства более 150 css-px, то для красоты надо через canvas вставить в это пространство текст с выравниванием по центру: "Продолжение отчёта на странице Nx..." , где Nx - номер следующей страницы.

20:30 ===== 10/11/2025 ================================================================
1) В генераторе PDF-отчётов надо немного приподнять позицию вставки печати относительно подписи. Примерно на половину диаметра печати.
2) Там же в генераторе отчётов расстояние между последним компонентом и блоком печатей и подписей сократить до минимума.

20:35 ===== 10/11/2025 ================================================================
Улучшаем экран "Клиенты"
1) FAB-группа кнопок: добавь легкую тень или фон-подложку (scrim), чтобы кнопки «Клиент» и «Группа» визуально отделялись от списка. Сейчас они «висят» в воздухе. У нас это надо сделать в теме - тогда это применится ко всем FAB
2) Анимация при открытии разворачивающихся списков (группы) — плавный переход (expand/collapse) сделает UX более живым.
3) Такая же анимация ндолжна быть во всех разворачивающихся списках (например на кэране "Клиент")
4) Иконка "Корзина", которая у нас используется везде, где можно что-то удалить - должна быть прописана в общей Теме, чтобы позже можно было в одно мгновение поменять все такие иконки на кастомные.
5) На экране "Установка" кнопки «Провести ТО / История ТО» можно сделать сегментами внутри карточки, в стиле Material 3 segmented buttons, чтобы они выглядели как переключатель режима. Текст подзаголовка установки (адрес/объект) — сделать серым, уменьшить контраст для читаемости.
6) Диалог «Новый компонент» и все другие диалоги, появляющиеся при добавлении (Клиент и Группа на экране "Клиенты", Объект и установка на экране "Клиент", установка на экране "Объект" итд)
6.1.) Стили всех этих диалогов одинаковые - надо вынести эти стили в общую тему. Саму отрисовку диалогов можно вынести в отдельную функцию или файл, т.к. при дальнейшей разработке они могут встречаться часто - это один из базовых элементов.
6.2.) Сделай радиус скругления чуть меньше (16dp → 12dp) — диалог станет визуально плотнее и более инженерным.
6.3.) Добавь легкую тень (Elevation 6) — чтобы диалог не сливался с фоном.
6.4.) Кнопки "Добавить" в таких диалогах изображать иконкой "Плюс в кружочке" зеленого цвета, а "Отмена" - иконкой "Косой крест в кружочке" красного цвета.

23:35 ===== 10/11/2025 ================================================================
1) На странице "Клиенты" у плашек групп нужно убрать Иконку слева - она лишняя. У самих клиентов не трогай, только у групп.
2) На экране "Шаблоны компонентов" добавить стандартный небольшой отступ от заголовка до контента 
(стандартный он для тех экранов, где нет подзаголовка, а там где подзаголовок есть - это отсуп от подзаголовка).
3) На экране "Отчёты обслуживания" иконки PDF перекрась в красный, а иконки HTML так и оставь черными.

23:47 ===== 10/11/2025 ================================================================
Модернизируем экран Клиенты.
Цвет для групп...

На этом экране активна всегда только одна группа. Это немного отдельный стиль, не такой как раскрывающийся список на экране "Клиент" (там может быть много октрытых карточек одновременно, а общее количетсво элементов меньше)

Рекомендую:
Свёрнутые группы — светлый фон #F3F4F6.
Активная (открытая) группа — графитовый фон #2E2E2E с белым текстом.
Тогда она будет восприниматься как контейнер, внутри которого находятся клиенты.
Важно: не добавляй тень на эти панели. Лучше оставь матовый фон и тонкий бордер снизу (#DADADA).

Сделай так, чтобы клиенты внутри группы выглядели как простые строки списка, а не карточки. (белый фон, без теней, с тонкой нижней линией)

23:55 ===== 10/11/2025 ================================================================
1) Нужно сделать анимации переходов между экранами — добавь лёгкие fade/slide transitions между экранами (особенно при переходе Клиенты → История → Установка).

Next-up ===============================================================================

2) Фильтр по клиентам на экране "Клиенты"
3) Фильтр по клиенту на экране "История обслуживания"
4) Многопользовательскость