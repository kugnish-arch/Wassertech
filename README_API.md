# Wassertech CRM API Specification

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-01-13  
**–ë–∞–∑–æ–≤—ã–π URL:** `https://api.wassertech.ru/api/public` (—É—Å–ª–æ–≤–Ω—ã–π, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω)

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è API](#–æ–±—â–∞—è-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è-api)
2. [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏](#–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-–∏-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
3. [–ö–ª–∏–µ–Ω—Ç—ã –∏ –≥—Ä—É–ø–ø—ã –∫–ª–∏–µ–Ω—Ç–æ–≤](#–∫–ª–∏–µ–Ω—Ç—ã-–∏-–≥—Ä—É–ø–ø—ã-–∫–ª–∏–µ–Ω—Ç–æ–≤)
4. [–û–±—ä–µ–∫—Ç—ã (Sites)](#–æ–±—ä–µ–∫—Ç—ã-sites)
5. [–£—Å—Ç–∞–Ω–æ–≤–∫–∏ (Installations)](#—É—Å—Ç–∞–Ω–æ–≤–∫–∏-installations)
6. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–æ–∫](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—É—Å—Ç–∞–Ω–æ–≤–æ–∫)
7. [–®–∞–±–ª–æ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Component Templates)](#—à–∞–±–ª–æ–Ω—ã-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤-component-templates)
8. [–®–∞–±–ª–æ–Ω—ã —á–µ–∫-–ª–∏—Å—Ç–æ–≤ (Checklist Templates)](#—à–∞–±–ª–æ–Ω—ã-—á–µ–∫-–ª–∏—Å—Ç–æ–≤-checklist-templates)
9. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ (Maintenance)](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ-–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ-maintenance)
10. [–û—Ç—á—ë—Ç—ã (Reports)](#–æ—Ç—á—ë—Ç—ã-reports)
11. [–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è](#—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
12. [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏](#—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏)

---

## –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è API

### –ë–∞–∑–æ–≤—ã–π URL

```
https://api.wassertech.ru/api/public
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã (–∫—Ä–æ–º–µ `/auth/login`) —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:

```
Authorization: Bearer <JWT_TOKEN>
```

–¢–æ–∫–µ–Ω –ø–æ–ª—É—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç `/auth/login` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (user_id, role, permissions).

### –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ä–æ–ª–∏:

- **ADMIN** ‚Äî –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º –∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º
- **USER** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º —É—Å—Ç–∞–Ω–æ–≤–∫–∞–º
- **VIEWER** ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `user_membership`, –∫–æ—Ç–æ—Ä–∞—è —Å–≤—è–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —É—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –∫ –∫–æ—Ç–æ—Ä—ã–º —É –Ω–µ–≥–æ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `user_membership`.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:

- **users** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- **user_membership** ‚Äî —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —É—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏ (–ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞)
- **clients** ‚Äî –∫–ª–∏–µ–Ω—Ç—ã
- **client_groups** ‚Äî –≥—Ä—É–ø–ø—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
- **sites** ‚Äî –æ–±—ä–µ–∫—Ç—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
- **installations** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö
- **components** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–æ–∫
- **component_templates** ‚Äî —à–∞–±–ª–æ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ)
- **checklist_templates** ‚Äî —à–∞–±–ª–æ–Ω—ã —á–µ–∫-–ª–∏—Å—Ç–æ–≤ –¥–ª—è –¢–û
- **checklist_fields** ‚Äî –ø–æ–ª—è —à–∞–±–ª–æ–Ω–æ–≤ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
- **maintenance_sessions** ‚Äî —Å–µ—Å—Å–∏–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- **maintenance_values** ‚Äî –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π –≤ —Å–µ—Å—Å–∏—è—Ö –¢–û
- **observations** ‚Äî –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –≤ —Å–µ—Å—Å–∏—è—Ö –¢–û (legacy)
- **issues** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã/–Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ –≤ —Å–µ—Å—Å–∏—è—Ö –¢–û
- **reports** ‚Äî –æ—Ç—á—ë—Ç—ã –ø–æ —Å–µ—Å—Å–∏—è–º –¢–û

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

–í—Å–µ –æ—Ç–≤–µ—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –£—Å–ø–µ—à–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ–¥ 200 (GET), 201 (POST), 204 (DELETE).

–û—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ HTTP –∫–æ–¥—ã:
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
- **401** ‚Äî –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (–Ω–µ—Ç/–±–∏—Ç—ã–π —Ç–æ–∫–µ–Ω)
- **403** ‚Äî –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω (–Ω–µ—Ç –ø—Ä–∞–≤)
- **404** ‚Äî —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **500** ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã

–í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç UUID (String) –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞.

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

–í—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ Unix timestamp (Long) –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (epoch).

### –ê—Ä—Ö–∏–≤–∞—Ü–∏—è

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–µ–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç "–º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ" —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ `isArchived` –∏ –ø–æ–ª–µ `archivedAtEpoch`. –ê—Ä—Ö–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –æ–±—ã—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö, –Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `includeArchived=true`.

---

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### POST /auth/login

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/auth/login`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–±–æ–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö (CRM –∏ Client).  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û (—á–∞—Å—Ç–∏—á–Ω–æ)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "login": "user_login",
  "password": "user_password"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "exp": 1762983030,
  "user": {
    "id": "uuid",
    "login": "user_login",
    "name": "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "email": "user@example.com",
    "role": "USER",
    "permissions": "{\"startScreen\":\"clients\",\"canEdit\":true}"
  }
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ user_id –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –ü–æ–ª–µ `exp` ‚Äî Unix timestamp —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞
- –ü–æ–ª–µ `permissions` ‚Äî JSON —Å—Ç—Ä–æ–∫–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

### GET /auth/me

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/auth/me`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üîµ SHOULD HAVE

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "login": "user_login",
  "name": "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
  "email": "user@example.com",
  "phone": "+79001234567",
  "role": "USER",
  "permissions": "{\"startScreen\":\"clients\",\"canEdit\":true}",
  "lastLoginAtEpoch": 1705123456789,
  "createdAtEpoch": 1700000000000,
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

---

### PUT /auth/me/password

**–ú–µ—Ç–æ–¥:** PUT  
**URL:** `/auth/me/password`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üîµ SHOULD HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "currentPassword": "old_password",
  "newPassword": "new_password"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "message": "–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å –∏–ª–∏ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

---

### GET /users

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/users`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è ADMIN).  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN  
**–°—Ç–∞—Ç—É—Å:** üü¢ NICE TO HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `role` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–æ–ª–∏ (ADMIN, USER, VIEWER)
- `search` (string, optional) ‚Äî –ø–æ–∏—Å–∫ –ø–æ –ª–æ–≥–∏–Ω—É/–∏–º–µ–Ω–∏

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": "uuid",
    "login": "user_login",
    "name": "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "email": "user@example.com",
    "role": "USER",
    "createdAtEpoch": 1700000000000
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ ADMIN)

---

## –ö–ª–∏–µ–Ω—Ç—ã –∏ –≥—Ä—É–ø–ø—ã –∫–ª–∏–µ–Ω—Ç–æ–≤

### GET /clients

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/clients`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤. –í CRM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ ClientsScreen.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `includeArchived` (boolean, optional, default: false) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã
- `groupId` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ (null –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–µ–∑ –≥—Ä—É–ø–ø—ã)
- `search` (string, optional) ‚Äî –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–ª–∏–µ–Ω—Ç–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": "uuid",
    "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞",
    "legalName": "–û–û–û –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
    "contactPerson": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω",
    "phone": "+79001234567",
    "phone2": "+79001234568",
    "email": "client@example.com",
    "addressFull": "–ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å",
    "city": "–ú–æ—Å–∫–≤–∞",
    "region": "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
    "country": "–†–æ—Å—Å–∏—è",
    "postalCode": "123456",
    "latitude": 55.7558,
    "longitude": 37.6173,
    "taxId": "1234567890",
    "vatNumber": "RU1234567890",
    "externalId": "EXT123",
    "tagsJson": "[\"–≤–∞–∂–Ω—ã–π\",\"–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π\"]",
    "notes": "–ó–∞–º–µ—Ç–∫–∏ –æ –∫–ª–∏–µ–Ω—Ç–µ",
    "isCorporate": true,
    "isArchived": false,
    "archivedAtEpoch": null,
    "createdAtEpoch": 1700000000000,
    "updatedAtEpoch": 1705123456789,
    "sortOrder": 0,
    "clientGroupId": "uuid-–≥—Ä—É–ø–ø—ã"
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ö–ª–∏–µ–Ω—Ç—ã —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ `sortOrder`, –∑–∞—Ç–µ–º –ø–æ `name`
- –ü–æ–ª–µ `clientGroupId` –º–æ–∂–µ—Ç –±—ã—Ç—å null –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–µ–∑ –≥—Ä—É–ø–ø—ã

---

### GET /clients/{clientId}

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/clients/{clientId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∏–µ–Ω—Ç–µ.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `clientId` (string, required) ‚Äî UUID –∫–ª–∏–µ–Ω—Ç–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞",
  // ... –≤—Å–µ –ø–æ–ª—è –∫–∞–∫ –≤ —Å–ø–∏—Å–∫–µ –∫–ª–∏–µ–Ω—Ç–æ–≤
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –∫–ª–∏–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

---

### POST /clients

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/clients`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞",
  "legalName": "–û–û–û –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "contactPerson": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω",
  "phone": "+79001234567",
  "email": "client@example.com",
  "addressFull": "–ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å",
  "city": "–ú–æ—Å–∫–≤–∞",
  "isCorporate": true,
  "clientGroupId": "uuid-–≥—Ä—É–ø–ø—ã"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": "uuid",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞",
  "createdAtEpoch": 1705123456789,
  "updatedAtEpoch": 1705123456789,
  "sortOrder": 0
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `name`)
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### PUT /clients/{clientId}

**–ú–µ—Ç–æ–¥:** PUT  
**URL:** `/clients/{clientId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∏–µ–Ω—Ç–µ.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `clientId` (string, required) ‚Äî UUID –∫–ª–∏–µ–Ω—Ç–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "legalName": "–û–û–û –ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "phone": "+79001234567",
  "email": "new@example.com"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –∫–ª–∏–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### PATCH /clients/{clientId}/archive

**–ú–µ—Ç–æ–¥:** PATCH  
**URL:** `/clients/{clientId}/archive`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ (–º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ).  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `clientId` (string, required) ‚Äî UUID –∫–ª–∏–µ–Ω—Ç–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "archived": true
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "isArchived": true,
  "archivedAtEpoch": 1705123456789,
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –∫–ª–∏–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### DELETE /clients/{clientId}

**–ú–µ—Ç–æ–¥:** DELETE  
**URL:** `/clients/{clientId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ (hard delete). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CRM.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `clientId` (string, required) ‚Äî UUID –∫–ª–∏–µ–Ω—Ç–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (204):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –∫–ª–∏–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî –∫–ª–∏–µ–Ω—Ç –∏–º–µ–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã/—É—Å—Ç–∞–Ω–æ–≤–∫–∏, —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ ADMIN)

---

### POST /clients/reorder

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/clients/reorder`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ (–º–∞—Å—Å–æ–≤–æ–µ). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ CRM –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø–æ—Ä—è–¥–∫–∞ –ø–æ—Å–ª–µ drag-and-drop –∏–ª–∏ —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "clientIds": ["uuid1", "uuid2", "uuid3"]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "updated": 3
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ü–æ—Ä—è–¥–æ–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏–µ–π –≤ –º–∞—Å—Å–∏–≤–µ (–∏–Ω–¥–µ–∫—Å = sortOrder)
- –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å sortOrder (0, 1, 2, ...)

---

### GET /client-groups

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/client-groups`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø –∫–ª–∏–µ–Ω—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `includeArchived` (boolean, optional, default: false) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –≥—Ä—É–ø–ø—ã

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": "uuid",
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã",
    "notes": "–ó–∞–º–µ—Ç–∫–∏ –æ –≥—Ä—É–ø–ø–µ",
    "sortOrder": 0,
    "isArchived": false,
    "archivedAtEpoch": null,
    "createdAtEpoch": 1700000000000,
    "updatedAtEpoch": 1705123456789
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

---

### POST /client-groups

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/client-groups`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã –∫–ª–∏–µ–Ω—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã",
  "notes": "–ó–∞–º–µ—Ç–∫–∏ –æ –≥—Ä—É–ø–ø–µ"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": "uuid",
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã",
  "sortOrder": 0,
  "createdAtEpoch": 1705123456789,
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `title`)
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### PUT /client-groups/{groupId}

**–ú–µ—Ç–æ–¥:** PUT  
**URL:** `/client-groups/{groupId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã –∫–ª–∏–µ–Ω—Ç–æ–≤ (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ).  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `groupId` (string, required) ‚Äî UUID –≥—Ä—É–ø–ø—ã

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "title": "–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "title": "–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã",
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –≥—Ä—É–ø–ø–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### DELETE /client-groups/{groupId}

**–ú–µ—Ç–æ–¥:** DELETE  
**URL:** `/client-groups/{groupId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã –∫–ª–∏–µ–Ω—Ç–æ–≤. –ö–ª–∏–µ–Ω—Ç—ã –∏–∑ –≥—Ä—É–ø–ø—ã –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ "–û–±—â—É—é" (clientGroupId = null).  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `groupId` (string, required) ‚Äî UUID –≥—Ä—É–ø–ø—ã

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "message": "–ì—Ä—É–ø–ø–∞ —É–¥–∞–ª–µ–Ω–∞, –∫–ª–∏–µ–Ω—Ç—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ '–û–±—â—É—é'"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –≥—Ä—É–ø–ø–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ ADMIN)

---

### POST /clients/{clientId}/assign-group

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/clients/{clientId}/assign-group`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –≥—Ä—É–ø–ø–µ –∏–ª–∏ —Å–Ω—è—Ç–∏–µ —Å –≥—Ä—É–ø–ø—ã (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ "–û–±—â—É—é").  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `clientId` (string, required) ‚Äî UUID –∫–ª–∏–µ–Ω—Ç–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "groupId": "uuid-–≥—Ä—É–ø–ø—ã"
}
```

–ò–ª–∏ –¥–ª—è —Å–Ω—è—Ç–∏—è —Å –≥—Ä—É–ø–ø—ã:
```json
{
  "groupId": null
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "clientGroupId": "uuid-–≥—Ä—É–ø–ø—ã",
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –∫–ª–∏–µ–Ω—Ç –∏–ª–∏ –≥—Ä—É–ø–ø–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

## –û–±—ä–µ–∫—Ç—ã (Sites)

### GET /sites

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/sites`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `clientId` (string, required) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–ª–∏–µ–Ω—Ç—É
- `includeArchived` (boolean, optional, default: false) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": "uuid",
    "clientId": "uuid-–∫–ª–∏–µ–Ω—Ç–∞",
    "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞",
    "address": "–ê–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞",
    "orderIndex": 0,
    "isArchived": false,
    "archivedAtEpoch": null
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–ª–∏–µ–Ω—Ç—É)

---

### GET /sites/{siteId}

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/sites/{siteId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ–±—ä–µ–∫—Ç–µ.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `siteId` (string, required) ‚Äî UUID –æ–±—ä–µ–∫—Ç–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "clientId": "uuid-–∫–ª–∏–µ–Ω—Ç–∞",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞",
  "address": "–ê–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞",
  "orderIndex": 0,
  "isArchived": false
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### POST /sites

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/sites`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "clientId": "uuid-–∫–ª–∏–µ–Ω—Ç–∞",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞",
  "address": "–ê–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": "uuid",
  "clientId": "uuid-–∫–ª–∏–µ–Ω—Ç–∞",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞",
  "orderIndex": 0
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `name` –∏–ª–∏ `clientId`)
- **404** ‚Äî –∫–ª–∏–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–ª–∏–µ–Ω—Ç—É)

---

### PUT /sites/{siteId}

**–ú–µ—Ç–æ–¥:** PUT  
**URL:** `/sites/{siteId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `siteId` (string, required) ‚Äî UUID –æ–±—ä–µ–∫—Ç–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "address": "–ù–æ–≤—ã–π –∞–¥—Ä–µ—Å"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "address": "–ù–æ–≤—ã–π –∞–¥—Ä–µ—Å"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### PATCH /sites/{siteId}/archive

**–ú–µ—Ç–æ–¥:** PATCH  
**URL:** `/sites/{siteId}/archive`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `siteId` (string, required) ‚Äî UUID –æ–±—ä–µ–∫—Ç–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "archived": true
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "isArchived": true,
  "archivedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### DELETE /sites/{siteId}

**–ú–µ—Ç–æ–¥:** DELETE  
**URL:** `/sites/{siteId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `siteId` (string, required) ‚Äî UUID –æ–±—ä–µ–∫—Ç–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (204):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ ADMIN)

---

### POST /sites/reorder

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/sites/reorder`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "siteIds": ["uuid1", "uuid2", "uuid3"]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "updated": 3
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∏ (Installations)

### GET /installations

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/installations`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–æ–∫, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Client –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û (—á–∞—Å—Ç–∏—á–Ω–æ)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `siteId` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –æ–±—ä–µ–∫—Ç—É
- `clientId` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–ª–∏–µ–Ω—Ç—É
- `includeArchived` (boolean, optional, default: false) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": "uuid",
    "siteId": "uuid-–æ–±—ä–µ–∫—Ç–∞",
    "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏",
    "orderIndex": 0
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ `user_membership` –Ω–∞ –æ—Å–Ω–æ–≤–µ user_id –∏–∑ JWT —Ç–æ–∫–µ–Ω–∞
- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –∫ –∫–æ—Ç–æ—Ä—ã–º —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø
- –í Client –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –Ω–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ siteId/clientId

---

### GET /installations/{installationId}

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/installations/{installationId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `installationId` (string, required) ‚Äî UUID —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "siteId": "uuid-–æ–±—ä–µ–∫—Ç–∞",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏",
  "orderIndex": 0,
  "isArchived": false
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —á–µ—Ä–µ–∑ user_membership)

---

### POST /installations

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/installations`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "siteId": "uuid-–æ–±—ä–µ–∫—Ç–∞",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": "uuid",
  "siteId": "uuid-–æ–±—ä–µ–∫—Ç–∞",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏",
  "orderIndex": 0
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `name` –∏–ª–∏ `siteId`)
- **404** ‚Äî –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç—É)

---

### PUT /installations/{installationId}

**–ú–µ—Ç–æ–¥:** PUT  
**URL:** `/installations/{installationId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `installationId` (string, required) ‚Äî UUID —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### PATCH /installations/{installationId}/archive

**–ú–µ—Ç–æ–¥:** PATCH  
**URL:** `/installations/{installationId}/archive`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `installationId` (string, required) ‚Äî UUID —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "archived": true
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "isArchived": true,
  "archivedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### DELETE /installations/{installationId}

**–ú–µ—Ç–æ–¥:** DELETE  
**URL:** `/installations/{installationId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `installationId` (string, required) ‚Äî UUID —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (204):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **400** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–º–µ–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–ª–∏ —Å–µ—Å—Å–∏–∏ –¢–û, —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ ADMIN)

---

### POST /installations/reorder

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/installations/reorder`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–æ–∫.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "installationIds": ["uuid1", "uuid2", "uuid3"]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "updated": 3
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–æ–∫

### GET /installations/{installationId}/components

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/installations/{installationId}/components`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ CRM –Ω–∞ —ç–∫—Ä–∞–Ω–µ ComponentsScreen.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `installationId` (string, required) ‚Äî UUID —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `includeArchived` (boolean, optional, default: false) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": "uuid",
    "installationId": "uuid-—É—Å—Ç–∞–Ω–æ–≤–∫–∏",
    "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
    "type": "COMMON",
    "orderIndex": 0,
    "templateId": "uuid-—à–∞–±–ª–æ–Ω–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ü–æ–ª–µ `type` –º–æ–∂–µ—Ç –±—ã—Ç—å `COMMON` –∏–ª–∏ `HEAD` (enum ComponentType)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ `orderIndex`, –∑–∞—Ç–µ–º –ø–æ `name`

---

### GET /components/{componentId}

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/components/{componentId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `componentId` (string, required) ‚Äî UUID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "installationId": "uuid-—É—Å—Ç–∞–Ω–æ–≤–∫–∏",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
  "type": "COMMON",
  "orderIndex": 0,
  "templateId": "uuid-—à–∞–±–ª–æ–Ω–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### POST /installations/{installationId}/components

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/installations/{installationId}/components`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `installationId` (string, required) ‚Äî UUID —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
  "type": "COMMON",
  "templateId": "uuid-—à–∞–±–ª–æ–Ω–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": "uuid",
  "installationId": "uuid-—É—Å—Ç–∞–Ω–æ–≤–∫–∏",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
  "type": "COMMON",
  "orderIndex": 0,
  "templateId": "uuid-—à–∞–±–ª–æ–Ω–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `name` –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π `type`)
- **404** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–ª–∏ —à–∞–±–ª–æ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### PUT /components/{componentId}

**–ú–µ—Ç–æ–¥:** PUT  
**URL:** `/components/{componentId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `componentId` (string, required) ‚Äî UUID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "type": "HEAD",
  "templateId": "uuid-–Ω–æ–≤–æ–≥–æ-—à–∞–±–ª–æ–Ω–∞"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "type": "HEAD",
  "templateId": "uuid-–Ω–æ–≤–æ–≥–æ-—à–∞–±–ª–æ–Ω–∞"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### DELETE /components/{componentId}

**–ú–µ—Ç–æ–¥:** DELETE  
**URL:** `/components/{componentId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `componentId` (string, required) ‚Äî UUID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (204):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –¢–û, —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### POST /components/reorder

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/components/reorder`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "componentIds": ["uuid1", "uuid2", "uuid3"]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "updated": 3
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

## –®–∞–±–ª–æ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Component Templates)

**–í–∞–∂–Ω–æ:** –≠—Ç–æ –∫–ª—é—á–µ–≤–∞—è —Ñ–∏—á–∞ CRM ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —à–∞–±–ª–æ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ —Ç–∏–ø—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏. –°–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–∞—à–∏—Ç–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤ (Ferum, Soft, RO –∏ —Ç.–ø.), –∞ —è–≤–ª—è–µ—Ç—Å—è –≥–∏–±–∫–∏–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º.

### GET /component-templates

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/component-templates`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `includeArchived` (boolean, optional, default: false) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
- `category` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Filter", "Softener", "RO")

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": "uuid",
    "name": "–§–∏–ª—å—Ç—Ä –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π",
    "category": "Filter",
    "isArchived": false,
    "sortOrder": 0,
    "defaultParamsJson": "{\"pressure\":\"2.5\",\"flowRate\":\"100\"}",
    "createdAtEpoch": 1700000000000,
    "updatedAtEpoch": 1705123456789
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ü–æ–ª–µ `defaultParamsJson` —Å–æ–¥–µ—Ä–∂–∏—Ç JSON —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –®–∞–±–ª–æ–Ω—ã —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ `sortOrder`, –∑–∞—Ç–µ–º –ø–æ `name`

---

### GET /component-templates/{templateId}

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/component-templates/{templateId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —à–∞–±–ª–æ–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `templateId` (string, required) ‚Äî UUID —à–∞–±–ª–æ–Ω–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "name": "–§–∏–ª—å—Ç—Ä –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π",
  "category": "Filter",
  "isArchived": false,
  "sortOrder": 0,
  "defaultParamsJson": "{\"pressure\":\"2.5\",\"flowRate\":\"100\"}",
  "createdAtEpoch": 1700000000000,
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —à–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

---

### POST /component-templates

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/component-templates`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "name": "–ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
  "category": "Filter",
  "defaultParamsJson": "{\"pressure\":\"2.5\"}"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": "uuid",
  "name": "–ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
  "category": "Filter",
  "sortOrder": 0,
  "createdAtEpoch": 1705123456789,
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `name`)
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### PUT /component-templates/{templateId}

**–ú–µ—Ç–æ–¥:** PUT  
**URL:** `/component-templates/{templateId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `templateId` (string, required) ‚Äî UUID —à–∞–±–ª–æ–Ω–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "category": "Softener",
  "defaultParamsJson": "{\"pressure\":\"3.0\"}"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "category": "Softener",
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —à–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### PATCH /component-templates/{templateId}/archive

**–ú–µ—Ç–æ–¥:** PATCH  
**URL:** `/component-templates/{templateId}/archive`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `templateId` (string, required) ‚Äî UUID —à–∞–±–ª–æ–Ω–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "archived": true
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "isArchived": true,
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —à–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### DELETE /component-templates/{templateId}

**–ú–µ—Ç–æ–¥:** DELETE  
**URL:** `/component-templates/{templateId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `templateId` (string, required) ‚Äî UUID —à–∞–±–ª–æ–Ω–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (204):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —à–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî —à–∞–±–ª–æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ ADMIN)

---

### POST /component-templates/reorder

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/component-templates/reorder`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "templateIds": ["uuid1", "uuid2", "uuid3"]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "updated": 3
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

## –®–∞–±–ª–æ–Ω—ã —á–µ–∫-–ª–∏—Å—Ç–æ–≤ (Checklist Templates)

–®–∞–±–ª–æ–Ω—ã —á–µ–∫-–ª–∏—Å—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–ª–µ–π –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –¢–û –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ö–∞–∂–¥—ã–π —à–∞–±–ª–æ–Ω —Å–≤—è–∑–∞–Ω —Å —Ç–∏–ø–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (COMMON –∏–ª–∏ HEAD) –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —à–∞–±–ª–æ–Ω—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (componentTemplateId).

### GET /checklist-templates

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/checklist-templates`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ —á–µ–∫-–ª–∏—Å—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `componentType` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (COMMON, HEAD)
- `componentTemplateId` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —à–∞–±–ª–æ–Ω—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `includeArchived` (boolean, optional, default: false) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": "uuid",
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞",
    "componentType": "COMMON",
    "componentTemplateId": "uuid-—à–∞–±–ª–æ–Ω–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
    "sortOrder": 0,
    "isArchived": false,
    "updatedAtEpoch": 1705123456789
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

---

### GET /checklist-templates/{templateId}

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/checklist-templates/{templateId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —à–∞–±–ª–æ–Ω–µ —á–µ–∫-–ª–∏—Å—Ç–∞, –≤–∫–ª—é—á–∞—è –ø–æ–ª—è.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `templateId` (string, required) ‚Äî UUID —à–∞–±–ª–æ–Ω–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `includeFields` (boolean, optional, default: true) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –ø–æ–ª—è —à–∞–±–ª–æ–Ω–∞
- `maintenanceOnly` (boolean, optional, default: false) ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ–ª—è –¥–ª—è –¢–û (isForMaintenance = true)

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞",
  "componentType": "COMMON",
  "componentTemplateId": "uuid-—à–∞–±–ª–æ–Ω–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
  "sortOrder": 0,
  "isArchived": false,
  "updatedAtEpoch": 1705123456789,
  "fields": [
    {
      "id": "uuid",
      "templateId": "uuid-—à–∞–±–ª–æ–Ω–∞",
      "key": "pressure",
      "label": "–î–∞–≤–ª–µ–Ω–∏–µ",
      "type": "NUMBER",
      "isForMaintenance": true,
      "min": 0.0,
      "max": 10.0,
      "unit": "–±–∞—Ä",
      "required": true,
      "sortOrder": 0
    }
  ]
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —à–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

---

### POST /checklist-templates

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/checklist-templates`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ —á–µ–∫-–ª–∏—Å—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "title": "–ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω",
  "componentType": "COMMON",
  "componentTemplateId": "uuid-—à–∞–±–ª–æ–Ω–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
  "fields": [
    {
      "key": "pressure",
      "label": "–î–∞–≤–ª–µ–Ω–∏–µ",
      "type": "NUMBER",
      "isForMaintenance": true,
      "min": 0.0,
      "max": 10.0,
      "unit": "–±–∞—Ä",
      "required": true,
      "sortOrder": 0
    }
  ]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": "uuid",
  "title": "–ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω",
  "componentType": "COMMON",
  "sortOrder": 0,
  "createdAtEpoch": 1705123456789,
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `title` –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π `componentType`)
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### PUT /checklist-templates/{templateId}

**–ú–µ—Ç–æ–¥:** PUT  
**URL:** `/checklist-templates/{templateId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —á–µ–∫-–ª–∏—Å—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `templateId` (string, required) ‚Äî UUID —à–∞–±–ª–æ–Ω–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "fields": [
    {
      "id": "uuid-—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ-–ø–æ–ª—è",
      "key": "pressure",
      "label": "–î–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ",
      "type": "NUMBER",
      "min": 0.0,
      "max": 15.0,
      "unit": "–±–∞—Ä",
      "required": true,
      "sortOrder": 0
    },
    {
      "key": "new_field",
      "label": "–ù–æ–≤–æ–µ –ø–æ–ª–µ",
      "type": "TEXT",
      "isForMaintenance": true,
      "sortOrder": 1
    }
  ]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "updatedAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —à–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ü–æ–ª—è –±–µ–∑ `id` —Å—á–∏—Ç–∞—é—Ç—Å—è –Ω–æ–≤—ã–º–∏ –∏ —Å–æ–∑–¥–∞—é—Ç—Å—è
- –ü–æ–ª—è —Å `id` –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- –ü–æ–ª—è, –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ, –Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤ –ë–î, —É–¥–∞–ª—è—é—Ç—Å—è (–∏–ª–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è–º–∏)

---

### DELETE /checklist-templates/{templateId}

**–ú–µ—Ç–æ–¥:** DELETE  
**URL:** `/checklist-templates/{templateId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —á–µ–∫-–ª–∏—Å—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `templateId` (string, required) ‚Äî UUID —à–∞–±–ª–æ–Ω–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (204):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —à–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî —à–∞–±–ª–æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ ADMIN)

---

### POST /checklist-templates/{templateId}/fields

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/checklist-templates/{templateId}/fields`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è –≤ —à–∞–±–ª–æ–Ω —á–µ–∫-–ª–∏—Å—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `templateId` (string, required) ‚Äî UUID —à–∞–±–ª–æ–Ω–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "key": "new_field",
  "label": "–ù–æ–≤–æ–µ –ø–æ–ª–µ",
  "type": "CHECKBOX",
  "isForMaintenance": true,
  "required": false,
  "sortOrder": 0
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": "uuid",
  "templateId": "uuid-—à–∞–±–ª–æ–Ω–∞",
  "key": "new_field",
  "label": "–ù–æ–≤–æ–µ –ø–æ–ª–µ",
  "type": "CHECKBOX",
  "isForMaintenance": true,
  "sortOrder": 0
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —à–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø–æ–ª–µ —Å —Ç–∞–∫–∏–º `key` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### PUT /checklist-templates/{templateId}/fields/{fieldId}

**–ú–µ—Ç–æ–¥:** PUT  
**URL:** `/checklist-templates/{templateId}/fields/{fieldId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è —à–∞–±–ª–æ–Ω–∞ —á–µ–∫-–ª–∏—Å—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `templateId` (string, required) ‚Äî UUID —à–∞–±–ª–æ–Ω–∞
- `fieldId` (string, required) ‚Äî UUID –ø–æ–ª—è

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "label": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞",
  "min": 0.0,
  "max": 20.0,
  "unit": "–ª/–º–∏–Ω",
  "required": true
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "label": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞",
  "min": 0.0,
  "max": 20.0,
  "unit": "–ª/–º–∏–Ω",
  "required": true
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —à–∞–±–ª–æ–Ω –∏–ª–∏ –ø–æ–ª–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### DELETE /checklist-templates/{templateId}/fields/{fieldId}

**–ú–µ—Ç–æ–¥:** DELETE  
**URL:** `/checklist-templates/{templateId}/fields/{fieldId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—è –∏–∑ —à–∞–±–ª–æ–Ω–∞ —á–µ–∫-–ª–∏—Å—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `templateId` (string, required) ‚Äî UUID —à–∞–±–ª–æ–Ω–∞
- `fieldId` (string, required) ‚Äî UUID –ø–æ–ª—è

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (204):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —à–∞–±–ª–æ–Ω –∏–ª–∏ –ø–æ–ª–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### POST /checklist-templates/reorder

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/checklist-templates/reorder`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ —á–µ–∫-–ª–∏—Å—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "templateIds": ["uuid1", "uuid2", "uuid3"]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "updated": 3
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ (Maintenance)

### GET /maintenance-sessions

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/maintenance-sessions`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–µ—Å—Å–∏–π –¢–û. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ CRM –Ω–∞ —ç–∫—Ä–∞–Ω–µ MaintenanceHistoryScreen.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `installationId` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- `siteId` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –æ–±—ä–µ–∫—Ç—É
- `limit` (int, optional, default: 100) ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π
- `offset` (int, optional, default: 0) ‚Äî —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": "uuid",
    "siteId": "uuid-–æ–±—ä–µ–∫—Ç–∞",
    "installationId": "uuid-—É—Å—Ç–∞–Ω–æ–≤–∫–∏",
    "startedAtEpoch": 1705123456789,
    "finishedAtEpoch": 1705123556789,
    "technician": "–ò–º—è —Ç–µ—Ö–Ω–∏–∫–∞",
    "notes": "–ó–∞–º–µ—Ç–∫–∏ –æ –¢–û",
    "synced": true
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –°–µ—Å—Å–∏–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ `startedAtEpoch` DESC (–Ω–æ–≤—ã–µ —Å–Ω–∞—á–∞–ª–∞)
- –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏–∏ –ø–æ –ø—Ä–∞–≤–∞–º –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∞–º —á–µ—Ä–µ–∑ `user_membership`

---

### GET /maintenance-sessions/{sessionId}

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/maintenance-sessions/{sessionId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Å—Å–∏–∏ –¢–û, –≤–∫–ª—é—á–∞—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ CRM –Ω–∞ —ç–∫—Ä–∞–Ω–µ MaintenanceSessionDetailScreen.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `sessionId` (string, required) ‚Äî UUID —Å–µ—Å—Å–∏–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `includeValues` (boolean, optional, default: true) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π
- `includeObservations` (boolean, optional, default: true) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –Ω–∞–±–ª—é–¥–µ–Ω–∏—è (legacy)
- `includeIssues` (boolean, optional, default: true) ‚Äî –≤–∫–ª—é—á–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "siteId": "uuid-–æ–±—ä–µ–∫—Ç–∞",
  "installationId": "uuid-—É—Å—Ç–∞–Ω–æ–≤–∫–∏",
  "startedAtEpoch": 1705123456789,
  "finishedAtEpoch": 1705123556789,
  "technician": "–ò–º—è —Ç–µ—Ö–Ω–∏–∫–∞",
  "notes": "–ó–∞–º–µ—Ç–∫–∏ –æ –¢–û",
  "synced": true,
  "values": [
    {
      "id": "uuid",
      "sessionId": "uuid-—Å–µ—Å—Å–∏–∏",
      "installationId": "uuid-—É—Å—Ç–∞–Ω–æ–≤–∫–∏",
      "componentId": "uuid-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
      "fieldKey": "pressure",
      "valueText": null,
      "valueNumber": 2.5,
      "valueBool": null
    }
  ],
  "observations": [
    {
      "id": "uuid",
      "sessionId": "uuid-—Å–µ—Å—Å–∏–∏",
      "componentId": "uuid-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
      "valueText": "–ù–∞–±–ª—é–¥–µ–Ω–∏–µ",
      "valueNumber": null,
      "valueBool": null,
      "sortOrder": 0
    }
  ],
  "issues": [
    {
      "id": "uuid",
      "sessionId": "uuid-—Å–µ—Å—Å–∏–∏",
      "componentId": "uuid-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
      "description": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã",
      "severity": "MEDIUM",
      "resolved": false
    }
  ]
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —Å–µ—Å—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### POST /maintenance-sessions

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/maintenance-sessions`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ –¢–û. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ CRM –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¢–û –Ω–∞ —ç–∫—Ä–∞–Ω–µ MaintenanceScreen.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "siteId": "uuid-–æ–±—ä–µ–∫—Ç–∞",
  "installationId": "uuid-—É—Å—Ç–∞–Ω–æ–≤–∫–∏",
  "startedAtEpoch": 1705123456789,
  "finishedAtEpoch": 1705123556789,
  "technician": "–ò–º—è —Ç–µ—Ö–Ω–∏–∫–∞",
  "notes": "–ó–∞–º–µ—Ç–∫–∏ –æ –¢–û",
  "values": [
    {
      "componentId": "uuid-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
      "fieldKey": "pressure",
      "valueNumber": 2.5
    },
    {
      "componentId": "uuid-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
      "fieldKey": "status",
      "valueBool": true
    }
  ],
  "observations": [
    {
      "componentId": "uuid-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
      "valueText": "–ù–∞–±–ª—é–¥–µ–Ω–∏–µ",
      "sortOrder": 0
    }
  ],
  "issues": [
    {
      "componentId": "uuid-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
      "description": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã",
      "severity": "MEDIUM"
    }
  ]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": "uuid",
  "siteId": "uuid-–æ–±—ä–µ–∫—Ç–∞",
  "installationId": "uuid-—É—Å—Ç–∞–Ω–æ–≤–∫–∏",
  "startedAtEpoch": 1705123456789,
  "finishedAtEpoch": 1705123556789,
  "synced": true
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `siteId` –∏–ª–∏ `installationId`)
- **404** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –°–µ—Å—Å–∏—è –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –∞—Ç–æ–º–∞—Ä–Ω–æ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è)
- –ü–æ–ª–µ `finishedAtEpoch` –º–æ–∂–µ—Ç –±—ã—Ç—å null –¥–ª—è –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π

---

### PUT /maintenance-sessions/{sessionId}

**–ú–µ—Ç–æ–¥:** PUT  
**URL:** `/maintenance-sessions/{sessionId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –¢–û.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `sessionId` (string, required) ‚Äî UUID —Å–µ—Å—Å–∏–∏

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "finishedAtEpoch": 1705123656789,
  "technician": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –∏–º—è —Ç–µ—Ö–Ω–∏–∫–∞",
  "notes": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏",
  "values": [
    {
      "id": "uuid-—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ-–∑–Ω–∞—á–µ–Ω–∏—è",
      "componentId": "uuid-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
      "fieldKey": "pressure",
      "valueNumber": 3.0
    },
    {
      "componentId": "uuid-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
      "fieldKey": "new_field",
      "valueText": "–ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"
    }
  ]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "finishedAtEpoch": 1705123656789,
  "technician": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –∏–º—è —Ç–µ—Ö–Ω–∏–∫–∞",
  "notes": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —Å–µ—Å—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ó–Ω–∞—á–µ–Ω–∏—è –±–µ–∑ `id` —Å—á–∏—Ç–∞—é—Ç—Å—è –Ω–æ–≤—ã–º–∏ –∏ —Å–æ–∑–¥–∞—é—Ç—Å—è
- –ó–Ω–∞—á–µ–Ω–∏—è —Å `id` –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- –ó–Ω–∞—á–µ–Ω–∏—è, –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ, –Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤ –ë–î, —É–¥–∞–ª—è—é—Ç—Å—è (–∏–ª–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç)

---

### DELETE /maintenance-sessions/{sessionId}

**–ú–µ—Ç–æ–¥:** DELETE  
**URL:** `/maintenance-sessions/{sessionId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –¢–û.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `sessionId` (string, required) ‚Äî UUID —Å–µ—Å—Å–∏–∏

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (204):** –ü—É—Å—Ç–æ–µ —Ç–µ–ª–æ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî —Å–µ—Å—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (–Ω–µ ADMIN)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏ –¥–æ–ª–∂–Ω—ã —É–¥–∞–ª—è—Ç—å—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∏ –ø—Ä–æ–±–ª–µ–º—ã

---

## –û—Ç—á—ë—Ç—ã (Reports)

### GET /reports

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/reports`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—Ç—á—ë—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üîµ SHOULD HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `sessionId` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–µ—Å—Å–∏–∏ –¢–û
- `installationId` (string, optional) ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- `limit` (int, optional, default: 100) ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π
- `offset` (int, optional, default: 0) ‚Äî —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": "uuid",
    "sessionId": "uuid-—Å–µ—Å—Å–∏–∏",
    "reportNumber": "–ê00001/0124",
    "reportDate": "2024-01-13",
    "reportDateRus": "13 —è–Ω–≤–∞—Ä—è 2024",
    "createdAtEpoch": 1705123456789,
    "pdfUrl": "https://api.wassertech.ru/api/public/reports/uuid/pdf"
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### POST /reports/generate

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/reports/generate`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ –ø–æ —Å–µ—Å—Å–∏–∏ –¢–û. –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT, —Ä–æ–ª—å ADMIN –∏–ª–∏ USER  
**–°—Ç–∞—Ç—É—Å:** üîµ SHOULD HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "sessionId": "uuid-—Å–µ—Å—Å–∏–∏",
  "reportNumber": "–ê00001/0124",
  "templateVersion": "v3"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (202):**
```json
{
  "id": "uuid",
  "sessionId": "uuid-—Å–µ—Å—Å–∏–∏",
  "status": "processing",
  "reportNumber": "–ê00001/0124",
  "createdAtEpoch": 1705123456789
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `sessionId`)
- **404** ‚Äî —Å–µ—Å—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –º–æ–∂–µ—Ç –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π, –ø–æ—ç—Ç–æ–º—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å "processing"
- –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ GET /reports/{reportId}

---

### GET /reports/{reportId}

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/reports/{reportId}`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—Ç—á—ë—Ç–µ, –≤–∫–ª—é—á–∞—è —Å—Ç–∞—Ç—É—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üîµ SHOULD HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `reportId` (string, required) ‚Äî UUID –æ—Ç—á—ë—Ç–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": "uuid",
  "sessionId": "uuid-—Å–µ—Å—Å–∏–∏",
  "status": "completed",
  "reportNumber": "–ê00001/0124",
  "reportDate": "2024-01-13",
  "createdAtEpoch": 1705123456789,
  "completedAtEpoch": 1705123500000,
  "pdfUrl": "https://api.wassertech.ru/api/public/reports/uuid/pdf"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –æ—Ç—á—ë—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

### GET /reports/{reportId}/pdf

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/reports/{reportId}/pdf`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF —Ñ–∞–π–ª–∞ –æ—Ç—á—ë—Ç–∞.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üîµ SHOULD HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `reportId` (string, required) ‚Äî UUID –æ—Ç—á—ë—Ç–∞

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
- Content-Type: `application/pdf`
- –¢–µ–ª–æ: –±–∏–Ω–∞—Ä–Ω—ã–π PDF —Ñ–∞–π–ª

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **404** ‚Äî –æ—Ç—á—ë—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ PDF –µ—â—ë –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

---

## –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

### –û–±—â–∞—è –º–æ–¥–µ–ª—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

CRM –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –¥–≤—É—Ö —Ä–µ–∂–∏–º–∞—Ö:

1. **–û–Ω–ª–∞–π–Ω-—Ä–µ–∂–∏–º** ‚Äî –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ API, –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º
2. **–û—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º** ‚Äî —Ä–∞–±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î Room, –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É

–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∏–∑ –æ—Ñ—Ñ–ª–∞–π–Ω –≤ –æ–Ω–ª–∞–π–Ω —Ä–µ–∂–∏–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

- `id` (String, UUID) ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `createdAtEpoch` (Long) ‚Äî –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
- `updatedAtEpoch` (Long) ‚Äî –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `isArchived` (Boolean) ‚Äî —Ñ–ª–∞–≥ –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ (soft delete)
- `archivedAtEpoch` (Long?) ‚Äî –≤—Ä–µ–º—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –ü—Ä–∏–Ω—Ü–∏–ø —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

- **–°–µ—Ä–≤–µ—Ä ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã** –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –≤ –æ–Ω–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ
- **Room ‚Äî –∫—ç—à + –æ—á–µ—Ä–µ–¥—å –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π** –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞
- –ü—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä (push)
- –°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (pull)

---

### GET /sync/pull

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/sync/pull`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å–µ—Ä–≤–µ—Ä–∞ –≤ Room.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query):**
- `since` (long, required) ‚Äî Unix timestamp –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `entities` (string[], optional) ‚Äî —Å–ø–∏—Å–æ–∫ —Å—É—â–Ω–æ—Å—Ç–µ–π –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (clients, sites, installations, components, maintenance_sessions, maintenance_values, checklist_templates, checklist_fields, component_templates). –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏.

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "timestamp": 1705123456789,
  "clients": [
    {
      "id": "uuid",
      "name": "–ö–ª–∏–µ–Ω—Ç",
      "updatedAtEpoch": 1705123456789,
      "isArchived": false
    }
  ],
  "sites": [],
  "installations": [],
  "components": [],
  "maintenance_sessions": [],
  "maintenance_values": [],
  "checklist_templates": [],
  "checklist_fields": [],
  "component_templates": [],
  "deleted": [
    {
      "tableName": "clients",
      "recordId": "uuid",
      "deletedAtEpoch": 1705123456789
    }
  ]
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `since`
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—É—â–Ω–æ—Å—Ç–∏, –∫ –∫–æ—Ç–æ—Ä—ã–º —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `user_membership`
- –í —Å–µ–∫—Ü–∏–∏ `deleted` –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è —É–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (hard delete) –∏–ª–∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (soft delete), –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ö–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î

---

### POST /sync/push

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/sync/push`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö/–∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏–∑ –æ—Ñ—Ñ–ª–∞–π–Ω –≤ –æ–Ω–ª–∞–π–Ω —Ä–µ–∂–∏–º.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üî¥ MUST HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "clients": [
    {
      "id": "uuid",
      "name": "–ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç",
      "createdAtEpoch": 1705123456789,
      "updatedAtEpoch": 1705123456789
    }
  ],
  "sites": [],
  "installations": [],
  "components": [],
  "maintenance_sessions": [
    {
      "id": "uuid",
      "siteId": "uuid-–æ–±—ä–µ–∫—Ç–∞",
      "installationId": "uuid-—É—Å—Ç–∞–Ω–æ–≤–∫–∏",
      "startedAtEpoch": 1705123456789,
      "finishedAtEpoch": 1705123556789,
      "technician": "–¢–µ—Ö–Ω–∏–∫",
      "values": [
        {
          "componentId": "uuid-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
          "fieldKey": "pressure",
          "valueNumber": 2.5
        }
      ]
    }
  ],
  "maintenance_values": [],
  "checklist_templates": [],
  "checklist_fields": [],
  "component_templates": []
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "processed": {
    "clients": 1,
    "maintenance_sessions": 1
  },
  "errors": []
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∂–¥—É—é —Å—É—â–Ω–æ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ –¥–ª—è —Ç–µ—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å
- –ï—Å–ª–∏ —Å—É—â–Ω–æ—Å—Ç—å —Å —Ç–∞–∫–∏–º `id` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –æ–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (upsert)
- –ï—Å–ª–∏ —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–Ω–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è
- –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏

---

### POST /sync/resolve-conflicts

**–ú–µ—Ç–æ–¥:** POST  
**URL:** `/sync/resolve-conflicts`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–∫–æ–≥–¥–∞ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Å—É—â–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∏ –ª–æ–∫–∞–ª—å–Ω–æ).  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üü¢ NICE TO HAVE

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):**
```json
{
  "conflicts": [
    {
      "entityType": "clients",
      "entityId": "uuid",
      "resolution": "server" // –∏–ª–∏ "local"
    }
  ]
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "success": true,
  "resolved": 1
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **400** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- **403** ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –≠—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–∑–∂–µ
- –î–ª—è MVP –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é "–ø–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–±–µ–∂–¥–∞–µ—Ç" (last-write-wins)

---

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏

### GET /dictionaries/component-categories

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/dictionaries/component-categories`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤).  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üü¢ NICE TO HAVE

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  "Filter",
  "Softener",
  "RO",
  "Valve",
  "Pump"
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫, —Å–æ–±—Ä–∞–Ω–Ω—ã–π –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ò–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

---

### GET /dictionaries/field-types

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/dictionaries/field-types`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ —á–µ–∫-–ª–∏—Å—Ç–æ–≤.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üü¢ NICE TO HAVE

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "value": "CHECKBOX",
    "label": "–ß–µ–∫–±–æ–∫—Å"
  },
  {
    "value": "NUMBER",
    "label": "–ß–∏—Å–ª–æ"
  },
  {
    "value": "TEXT",
    "label": "–¢–µ–∫—Å—Ç"
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

---

### GET /dictionaries/severity-levels

**–ú–µ—Ç–æ–¥:** GET  
**URL:** `/dictionaries/severity-levels`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Ä–æ–≤–Ω–µ–π —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º –≤ –¢–û.  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è JWT  
**–°—Ç–∞—Ç—É—Å:** üü¢ NICE TO HAVE

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "value": "LOW",
    "label": "–ù–∏–∑–∫–∞—è"
  },
  {
    "value": "MEDIUM",
    "label": "–°—Ä–µ–¥–Ω—è—è"
  },
  {
    "value": "HIGH",
    "label": "–í—ã—Å–æ–∫–∞—è"
  },
  {
    "value": "CRITICAL",
    "label": "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è"
  }
]
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- **401** ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

---

## –õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∞—Ç—É—Å–æ–≤

- üî¥ **MUST HAVE** ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –±–µ–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Ç–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª CRM –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- üîµ **SHOULD HAVE** ‚Äî –∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ª–æ–≥–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- üü¢ **NICE TO HAVE** ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã–µ –±—É–¥—É—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–ª—É—á—à–∞—Ç —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û** ‚Äî —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –¥–ª—è backend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

1. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ `user_membership`. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –∫ –∫–æ—Ç–æ—Ä—ã–º —É –Ω–µ–≥–æ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø.

2. **–ê—Ä—Ö–∏–≤–∞—Ü–∏—è**: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–µ–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `isArchived`. –ê—Ä—Ö–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –æ–±—ã—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö, –Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `includeArchived=true`.

3. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –ú–Ω–æ–≥–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–º–µ—é—Ç –ø–æ–ª–µ `sortOrder` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–æ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ü—Ä–∏ –º–∞—Å—Å–æ–≤–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ—Ä—è–¥–∫–∞ (reorder) —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è (0, 1, 2, ...).

4. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏**: –í—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ Unix timestamp –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (epoch).

5. **UUID**: –í—Å–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã ‚Äî UUID (String).

6. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**: –û–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Å—Å–∏—è –¢–û + –∑–Ω–∞—á–µ–Ω–∏—è) –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∞—Ç–æ–º–∞—Ä–Ω–æ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è).

7. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö.

8. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –î–ª—è —Å–ø–∏—Å–∫–æ–≤ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `limit` –∏ `offset`.

9. **–û—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º**: –ü—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ API –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–∑–∂–µ.

10. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —à–∞–±–ª–æ–Ω—ã**: –°–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —á–µ–∫-–ª–∏—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–π –∏ –Ω–µ –∑–∞—à–∏—Ç–æ–π –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

